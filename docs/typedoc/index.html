<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>@hexonet/ispapi-apiconnector</title>
	<meta name="description" content="Documentation for @hexonet/ispapi-apiconnector">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
	<script async src="assets/js/search.js" id="search-script"></script>
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.json" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">@hexonet/ispapi-apiconnector</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<h1>@hexonet/ispapi-apiconnector</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<a href="#node-sdk" id="node-sdk" style="color: inherit; text-decoration: none;">
					<h1>node-sdk</h1>
				</a>
				<p><a href="https://www.npmjs.com/package/@hexonet/ispapi-apiconnector"><img src="https://img.shields.io/npm/v/@hexonet/ispapi-apiconnector.svg?style=flat" alt="npm version"></a>
					<a href="https://www.npmjs.com/package/@hexonet/ispapi-apiconnector"><img src="https://img.shields.io/node/v/@hexonet/ispapi-apiconnector.svg" alt="node"></a>
					<a href="https://github.com/semantic-release/semantic-release"><img src="https://img.shields.io/badge/%20%20%F0%9F%93%A6%F0%9F%9A%80-semantic--release-e10079.svg" alt="semantic-release"></a>
					<a href="https://github.com/hexonet/node-sdk/workflows/Release/badge.svg?branch=master"><img src="https://github.com/hexonet/node-sdk/workflows/Release/badge.svg?branch=master" alt="Build Status"></a>
					<a href="https://opensource.org/licenses/MIT"><img src="https://img.shields.io/badge/License-MIT-blue.svg" alt="License: MIT"></a>
				<a href="https://github.com/hexonet/node-sdk/blob/master/CONTRIBUTING.md"><img src="https://img.shields.io/badge/PRs-welcome-brightgreen.svg" alt="PRs welcome"></a></p>
				<p>This module is a connector library for the insanely fast HEXONET Backend API. For further informations visit our <a href="https://www.hexonet.net">homepage</a> and do not hesitate to <a href="https://www.hexonet.net/contact">contact us</a>.</p>
				<a href="#resources" id="resources" style="color: inherit; text-decoration: none;">
					<h2>Resources</h2>
				</a>
				<ul>
					<li><a href="https://github.com/hexonet/node-sdk/blob/master/README.md#how-to-use-this-module-in-your-project">Usage Guide</a></li>
					<li><a href="https://github.com/hexonet/node-sdk/wiki/Migration-Guide">Migration Guide</a></li>
					<li><a href="http://rawgit.com/hexonet/node-sdk/master/docs/typedoc/index.html">SDK Documenation</a></li>
					<li><a href="https://github.com/hexonet/hexonet-api-documentation/tree/master/API">HEXONET Backend API Documentation</a></li>
					<li><a href="https://github.com/hexonet/node-sdk/releases">Release Notes</a></li>
					<li><a href="https://github.com/hexonet/node-sdk/wiki/Development-Guide">Development Guide</a></li>
				</ul>
				<a href="#features" id="features" style="color: inherit; text-decoration: none;">
					<h2>Features</h2>
				</a>
				<ul>
					<li>Automatic IDN Domain name conversion to punycode (our API accepts only punycode format in commands)</li>
					<li>Allows nested associative arrays in API commands to improve for bulk parameters</li>
					<li>Connecting and communication with our API</li>
					<li>Possibility to use a custom mechanism for debug mode</li>
					<li>Several ways to access and deal with response data</li>
					<li>Getting the command again returned together with the response</li>
					<li>Sessionless communication</li>
					<li>Session based communication</li>
					<li>Possibility to save API session identifier in session</li>
					<li>Configure a Proxy for API communication</li>
					<li>Configure a Referer for API communication</li>
					<li>High Performance Proxy Setup</li>
				</ul>
				<a href="#how-to-use-this-module-in-your-project" id="how-to-use-this-module-in-your-project" style="color: inherit; text-decoration: none;">
					<h2>How to use this module in your project</h2>
				</a>
				<p>We have also a demo app available showing how to integrate and use our SDK. See <a href="https://github.com/hexonet/node-sdk-demo">here</a>.</p>
				<a href="#requirements" id="requirements" style="color: inherit; text-decoration: none;">
					<h3>Requirements</h3>
				</a>
				<ul>
					<li>Installed nodejs/npm. We suggest using <a href="https://github.com/creationix/nvm">nvm</a>.</li>
				</ul>
				<a href="#nodejs-version-compatibility" id="nodejs-version-compatibility" style="color: inherit; text-decoration: none;">
					<h3>NodeJS Version Compatibility</h3>
				</a>
				<table>
					<thead>
						<tr>
							<th>Version</th>
							<th>NodeJS</th>
						</tr>
					</thead>
					<tbody><tr>
							<td>4.x and below</td>
							<td>&gt;= 4.x</td>
						</tr>
						<tr>
							<td>5.0.0 - 5.0.1</td>
							<td>&gt;= 7.6.0</td>
						</tr>
						<tr>
							<td>&gt;= 5.0.2</td>
							<td>&gt;= 8.3.0</td>
						</tr>
						<tr>
							<td>&gt; 5.5.3</td>
							<td>&gt;= 9.x</td>
						</tr>
				</tbody></table>
				<a href="#installation--update" id="installation--update" style="color: inherit; text-decoration: none;">
					<h3>Installation / Update</h3>
				</a>
				<pre><code class="language-bash"><span style="color: #000000">    npm i @hexonet/ispapi-apiconnector@latest --save</span>
</code></pre>
				<a href="#high-performance-proxy-setup" id="high-performance-proxy-setup" style="color: inherit; text-decoration: none;">
					<h3>High Performance Proxy Setup</h3>
				</a>
				<p>Long distances to our main data center in Germany may result in high network latencies. If you encounter such problems, we highly recommend to use this setup, as it uses persistent connections to our API server and the overhead for connection establishments is omitted.</p>
				<a href="#step-1-required-apache2-packages--modules" id="step-1-required-apache2-packages--modules" style="color: inherit; text-decoration: none;">
					<h4>Step 1: Required Apache2 packages / modules</h4>
				</a>
				<p><em>At least Apache version 2.2.9</em> is required.</p>
				<p>The following Apache2 modules must be installed and activated:</p>
				<pre><code class="language-bash"><span style="color: #000000">proxy.conf</span>
<span style="color: #000000">proxy.load</span>
<span style="color: #000000">proxy_http.load</span>
<span style="color: #000000">ssl.conf </span><span style="color: #008000"># for HTTPs connection to our API server</span>
<span style="color: #000000">ssl.load </span><span style="color: #008000"># for HTTPs connection to our API server</span>
</code></pre>
				<a href="#step-2-apache-configuration" id="step-2-apache-configuration" style="color: inherit; text-decoration: none;">
					<h4>Step 2: Apache configuration</h4>
				</a>
				<p>An example Apache configuration with binding to localhost:</p>
				<pre><code class="language-bash"><span style="color: #000000">&lt;VirtualHost 127.0.0.1:80&gt;</span>
<span style="color: #000000">    ServerAdmin webmaster@localhost</span>
<span style="color: #000000">    ServerSignature Off</span>
<span style="color: #000000">    SSLProxyEngine on</span>
<span style="color: #000000">    ProxyPass /api/call.cgi https://api.ispapi.net/api/call.cgi min=1 max=2</span>
<span style="color: #000000">    &lt;Proxy *&gt;</span>
<span style="color: #000000">        Order Deny,Allow</span>
<span style="color: #000000">        Deny from none</span>
<span style="color: #000000">        Allow from all</span>
<span style="color: #000000">    &lt;/Proxy&gt;</span>
<span style="color: #000000">&lt;/VirtualHost&gt;</span>
</code></pre>
				<p>After saving your configuration changes please restart the Apache webserver.</p>
				<a href="#step-3-using-this-setup" id="step-3-using-this-setup" style="color: inherit; text-decoration: none;">
					<h4>Step 3: Using this setup</h4>
				</a>
				<pre><code class="language-js"><span style="color: #008000">/* eslint-disable @typescript-eslint/explicit-function-return-type */</span>
<span style="color: #008000">/* eslint-disable @typescript-eslint/no-var-requires */</span>
<span style="color: #0000FF">async</span><span style="color: #000000"> </span><span style="color: #0000FF">function</span><span style="color: #000000"> </span><span style="color: #795E26">main</span><span style="color: #000000"> () {</span>
<span style="color: #000000">  </span><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">apiconnector</span><span style="color: #000000"> = </span><span style="color: #795E26">require</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;@hexonet/ispapi-apiconnector&#039;</span><span style="color: #000000">)</span>
<span style="color: #000000">  </span><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">cl</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #267F99">apiconnector</span><span style="color: #000000">.</span><span style="color: #267F99">APIClient</span><span style="color: #000000">()</span>
<span style="color: #000000">  </span><span style="color: #001080">cl</span><span style="color: #000000">.</span><span style="color: #795E26">useHighPerformanceConnectionSetup</span><span style="color: #000000">()</span>
<span style="color: #000000">    .</span><span style="color: #795E26">useOTESystem</span><span style="color: #000000">()</span>
<span style="color: #000000">    .</span><span style="color: #795E26">setCredentials</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;test.user&#039;</span><span style="color: #000000">, </span><span style="color: #A31515">&#039;test.passw0rd&#039;</span><span style="color: #000000">)</span>
<span style="color: #000000">    .</span><span style="color: #795E26">setRemoteIPAddress</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;1.2.3.4:80&#039;</span><span style="color: #000000">)</span>
<span style="color: #000000">  </span><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">r</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">cl</span><span style="color: #000000">.</span><span style="color: #795E26">request</span><span style="color: #000000">({ </span><span style="color: #001080">COMMAND:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;StatusAccount&#039;</span><span style="color: #000000"> })</span>
<span style="color: #000000">  </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #001080">r</span><span style="color: #000000">.</span><span style="color: #795E26">getPlain</span><span style="color: #000000">())</span>
<span style="color: #000000">}</span>
<span style="color: #795E26">main</span><span style="color: #000000">()</span>
</code></pre>
				<p>So, what happens in code behind the scenes? We communicate with localhost (so our proxy setup) that passes the requests to the HEXONET API.
				Of course we can&#39;t activate this setup by default as it is based on Steps 1 and 2. Otherwise connecting to our API wouldn&#39;t work.</p>
				<p>Just in case the above port or ip address can&#39;t be used, use function setURL instead to set a different URL / Port.
					<code>http://127.0.0.1/api/call.cgi</code> is the default URL for the High Performance Proxy Setup.
				e.g. <code>$cl-&gt;setURL(&quot;http://127.0.0.1:8765/api/call.cgi&quot;);</code> would change the port. Configure that port also in the Apache Configuration (-&gt; Step 2)!</p>
				<p>Don&#39;t use <code>https</code> for that setup as it leads to slowing things down as of the https <code>overhead</code> of securing the connection. In this setup we just connect to localhost, so no direct outgoing network traffic using <code>http</code>. The apache configuration finally takes care passing it to <code>https</code> for the final communication to the HEXONET API.</p>
				<a href="#customize-logging--outputs" id="customize-logging--outputs" style="color: inherit; text-decoration: none;">
					<h3>Customize Logging / Outputs</h3>
				</a>
				<p>When having the debug mode activated \HEXONET\Logger will be used for doing outputs.
				Of course it could be of interest for integrators to look for a way of getting this replaced by a custom mechanism like forwarding things to a 3rd-party software, logging into file or whatever.</p>
				<pre><code class="language-js"><span style="color: #008000">/* eslint-disable @typescript-eslint/explicit-function-return-type */</span>
<span style="color: #008000">/* eslint-disable @typescript-eslint/no-var-requires */</span>
<span style="color: #0000FF">async</span><span style="color: #000000"> </span><span style="color: #0000FF">function</span><span style="color: #000000"> </span><span style="color: #795E26">main</span><span style="color: #000000"> () {</span>
<span style="color: #000000">  </span><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">logger</span><span style="color: #000000"> = </span><span style="color: #795E26">require</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;mycustomlogger&#039;</span><span style="color: #000000">) </span><span style="color: #008000">// has to extend our logger</span>
<span style="color: #000000">  </span><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">apiconnector</span><span style="color: #000000"> = </span><span style="color: #795E26">require</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;@hexonet/ispapi-apiconnector&#039;</span><span style="color: #000000">)</span>
<span style="color: #000000">  </span><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">cl</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #267F99">apiconnector</span><span style="color: #000000">.</span><span style="color: #267F99">APIClient</span><span style="color: #000000">()</span>
<span style="color: #000000">  </span><span style="color: #001080">cl</span><span style="color: #000000">.</span><span style="color: #795E26">useOTESystem</span><span style="color: #000000">()</span>
<span style="color: #000000">    .</span><span style="color: #795E26">setCredentials</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;test.user&#039;</span><span style="color: #000000">, </span><span style="color: #A31515">&#039;test.passw0rd&#039;</span><span style="color: #000000">)</span>
<span style="color: #000000">    .</span><span style="color: #795E26">setRemoteIPAddress</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;1.2.3.4:80&#039;</span><span style="color: #000000">)</span>
<span style="color: #000000">    .</span><span style="color: #795E26">enableDebugMode</span><span style="color: #000000">()</span>
<span style="color: #000000">    .</span><span style="color: #795E26">setCustomLogger</span><span style="color: #000000">(</span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #267F99">logger</span><span style="color: #000000">.</span><span style="color: #267F99">MyCustomLogger</span><span style="color: #000000">())</span>
<span style="color: #000000">  </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">cl</span><span style="color: #000000">.</span><span style="color: #795E26">request</span><span style="color: #000000">({ </span><span style="color: #001080">COMMAND:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;StatusAccount&#039;</span><span style="color: #000000"> })</span>
<span style="color: #000000">}</span>
<span style="color: #795E26">main</span><span style="color: #000000">()</span>
</code></pre>
				<p>NOTE: Find an example for a custom logger class implementation in <code>src/customlogger.ts</code>. If you have questions, feel free to open a github issue.</p>
				<a href="#usage-examples" id="usage-examples" style="color: inherit; text-decoration: none;">
					<h3>Usage Examples</h3>
				</a>
				<p>We provide only documentation and examples for the latest release.</p>
				<a href="#api-response-format" id="api-response-format" style="color: inherit; text-decoration: none;">
					<h4>API response format</h4>
				</a>
				<p>If you got the API communication working, you will notice that we provide two response formats via this library.
					a) Plain Format
					b) Hash Format
				c) ListHash Format</p>
				<p>The different response formats can be accessed through the Response object itself that is returned by login, logout and request method:</p>
				<pre><code class="language-js"><span style="color: #008000">// console.log(r.getPlain())</span>
<span style="color: #008000">// console.log(r.getHash())</span>
<span style="color: #008000">// console.log(l.getListHash())</span>
</code></pre>
				<p>The plain format represents the API plain response.
					The hash format represents the API response parsed into a js object.
				The list format makes sense, if you&#39;re working with table libraries based on our list commands and need the hash format parsed into a list format.</p>
				<a href="#api-response-codes" id="api-response-codes" style="color: inherit; text-decoration: none;">
					<h4>API response codes</h4>
				</a>
				<p>The API response (a JSON object) provides always two keys: CODE and DESCRIPTION.
					CODE represents a return code which indicates the following cases:
					&quot;200&quot; -&gt; The command has been processed successfully by the API
					&quot;4xx&quot; -&gt; A temporary API error occured, retry later
				&quot;5xx&quot; -&gt; An API error occured</p>
				<p>In case of a (temporary) error the DESCRIPTION may provide more details on the reason.</p>
				<p>The hash format provides a PROPERTY key that covers potential data.
				The list format provides a LIST key that covers potential data.</p>
				<a href="#session-based-api-communication" id="session-based-api-communication" style="color: inherit; text-decoration: none;">
					<h4>Session based API Communication</h4>
				</a>
				<p>This example is thought for anyone who builds up his own frontend including user login and logout functionality.
					See how login and logout works and how the request method depends on the login mechanism!
					The logout can be done at any time separetely triggered. After logout no further requests reusing the by login returned socketcfg are possible.
				Note: you have to first finish your requests before doing logout. Running queued requests may fail after logout.</p>
				<pre><code class="language-js"><span style="color: #008000">/* eslint-disable @typescript-eslint/explicit-function-return-type */</span>
<span style="color: #008000">/* eslint-disable @typescript-eslint/no-var-requires */</span>
<span style="color: #0000FF">async</span><span style="color: #000000"> </span><span style="color: #0000FF">function</span><span style="color: #000000"> </span><span style="color: #795E26">main</span><span style="color: #000000"> () {</span>
<span style="color: #000000">  </span><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">apiconnector</span><span style="color: #000000"> = </span><span style="color: #795E26">require</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;@hexonet/ispapi-apiconnector&#039;</span><span style="color: #000000">)</span>
<span style="color: #000000">  </span><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">cl</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #267F99">apiconnector</span><span style="color: #000000">.</span><span style="color: #267F99">APIClient</span><span style="color: #000000">()</span>
<span style="color: #000000">  </span><span style="color: #008000">// Use OT&amp;E system, omitting this points by default to the LIVE system</span>
<span style="color: #000000">  </span><span style="color: #001080">cl</span><span style="color: #000000">.</span><span style="color: #795E26">useOTESystem</span><span style="color: #000000">()</span>
<span style="color: #000000">  </span><span style="color: #008000">// Set your user id, here: the OT&amp;E demo user</span>
<span style="color: #000000">    .</span><span style="color: #795E26">setCredentials</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;test.user&#039;</span><span style="color: #000000">, </span><span style="color: #A31515">&#039;test.passw0rd&#039;</span><span style="color: #000000">)</span>
<span style="color: #000000">  </span><span style="color: #008000">// Set Remote IP Address (in case of IP Filter setting)</span>
<span style="color: #000000">    .</span><span style="color: #795E26">setRemoteIPAddress</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;1.2.3.4:80&#039;</span><span style="color: #000000">)</span>
<span style="color: #000000">  </span><span style="color: #008000">// Set a subuser view</span>
<span style="color: #000000">  </span><span style="color: #008000">// cl.setUserView(&#039;hexotestman.com&#039;);</span>

<span style="color: #000000">  </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;login ...&#039;</span><span style="color: #000000">)</span>
<span style="color: #000000">  </span><span style="color: #0000FF">let</span><span style="color: #000000"> </span><span style="color: #001080">r</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">cl</span><span style="color: #000000">.</span><span style="color: #795E26">login</span><span style="color: #000000">()</span>
<span style="color: #000000">  </span><span style="color: #008000">// Provide an one time password (active 2FA)</span>
<span style="color: #000000">  </span><span style="color: #008000">// const r = await cl.login(&#039;12345678&#039;);</span>
<span style="color: #000000">  </span><span style="color: #AF00DB">if</span><span style="color: #000000"> (</span><span style="color: #001080">r</span><span style="color: #000000">.</span><span style="color: #795E26">getCode</span><span style="color: #000000">() !== </span><span style="color: #098658">200</span><span style="color: #000000">) { </span><span style="color: #008000">// login failed</span>
<span style="color: #000000">    </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #A31515">`LOGIN FAILED -&gt; </span><span style="color: #0000FF">${</span><span style="color: #001080">r</span><span style="color: #000000FF">.</span><span style="color: #795E26">getCode</span><span style="color: #000000FF">()</span><span style="color: #0000FF">}</span><span style="color: #A31515"> </span><span style="color: #0000FF">${</span><span style="color: #001080">r</span><span style="color: #000000FF">.</span><span style="color: #795E26">getDescription</span><span style="color: #000000FF">()</span><span style="color: #0000FF">}</span><span style="color: #A31515">`</span><span style="color: #000000">)</span>
<span style="color: #000000">    </span><span style="color: #AF00DB">return</span>
<span style="color: #000000">  }</span>
<span style="color: #000000">  </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;LOGIN SUCCEEDED&#039;</span><span style="color: #000000">)</span>

<span style="color: #000000">  </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;request further commands ...&#039;</span><span style="color: #000000">)</span>
<span style="color: #000000">  </span><span style="color: #001080">r</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">cl</span><span style="color: #000000">.</span><span style="color: #795E26">request</span><span style="color: #000000">({</span>
<span style="color: #000000">    </span><span style="color: #001080">COMMAND:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;StatusUser&#039;</span>
<span style="color: #000000">  })</span>
<span style="color: #000000">  </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #A31515">`RESPONSE -&gt; </span><span style="color: #0000FF">${</span><span style="color: #001080">r</span><span style="color: #000000FF">.</span><span style="color: #795E26">getCode</span><span style="color: #000000FF">()</span><span style="color: #0000FF">}</span><span style="color: #A31515"> </span><span style="color: #0000FF">${</span><span style="color: #001080">r</span><span style="color: #000000FF">.</span><span style="color: #795E26">getDescription</span><span style="color: #000000FF">()</span><span style="color: #0000FF">}</span><span style="color: #A31515">`</span><span style="color: #000000">)</span>

<span style="color: #000000">  </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;logout ...&#039;</span><span style="color: #000000">)</span>
<span style="color: #000000">  </span><span style="color: #001080">r</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">cl</span><span style="color: #000000">.</span><span style="color: #795E26">logout</span><span style="color: #000000">()</span>
<span style="color: #000000">  </span><span style="color: #AF00DB">if</span><span style="color: #000000"> (</span><span style="color: #001080">r</span><span style="color: #000000">.</span><span style="color: #795E26">getCode</span><span style="color: #000000">() !== </span><span style="color: #A31515">&#039;200&#039;</span><span style="color: #000000">) { </span><span style="color: #008000">// login failed</span>
<span style="color: #000000">    </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #A31515">`LOGOUT FAILED -&gt; </span><span style="color: #0000FF">${</span><span style="color: #001080">r</span><span style="color: #000000FF">.</span><span style="color: #795E26">getCode</span><span style="color: #000000FF">()</span><span style="color: #0000FF">}</span><span style="color: #A31515"> </span><span style="color: #0000FF">${</span><span style="color: #001080">r</span><span style="color: #000000FF">.</span><span style="color: #795E26">getDescription</span><span style="color: #000000FF">()</span><span style="color: #0000FF">}</span><span style="color: #A31515">`</span><span style="color: #000000">)</span>
<span style="color: #000000">    </span><span style="color: #AF00DB">return</span>
<span style="color: #000000">  }</span>
<span style="color: #000000">  </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;LOGOUT SUCCEEDED&#039;</span><span style="color: #000000">)</span>
<span style="color: #000000">}</span>
<span style="color: #795E26">main</span><span style="color: #000000">()</span>
</code></pre>
				<a href="#create-your-own-frontend-app-on-top" id="create-your-own-frontend-app-on-top" style="color: inherit; text-decoration: none;">
					<h5>Create your own frontend app on top</h5>
				</a>
				<p>If you want to create your own frontend application based on our SDK, you will have to know how you can
					save APIClient&#39;s session configuration data to the nodejs session and how to rebuild a new APIClient
				instance out of it on next incoming request.</p>
				<p>After successful login, use <code>cl.saveSession(req.session)</code> to save APIClient&#39;s session into the nodejs one.
					This snippet is an example for the expressjs framework where <code>req</code> is the incoming ClientRequest and
				<code>req.session</code> the expressjs session instance.</p>
				<p>In your generic route for making API calls use <code>cl.reuseSession(req.session)</code> to rebuild APIClient&#39;s session
				out of the previously saved data.</p>
				<p>We cannot provide integration examples for part depends on your app itself and your own needs.
				Still feel free to contact us in case you&#39;re stuck.</p>
				<a href="#sessionless-api-communication" id="sessionless-api-communication" style="color: inherit; text-decoration: none;">
					<h4>Sessionless API Communication</h4>
				</a>
				<p>In the below example no login / logout procedure is required.
					This is thought for cases where a user session is not of interest.
					But in that case you always have to provide user and password accordingly.
				If you want to build your frontend based on this library, we suggest to base it on the above example.</p>
				<pre><code class="language-js"><span style="color: #008000">/* eslint-disable @typescript-eslint/explicit-function-return-type */</span>
<span style="color: #008000">/* eslint-disable @typescript-eslint/no-var-requires */</span>
<span style="color: #0000FF">async</span><span style="color: #000000"> </span><span style="color: #0000FF">function</span><span style="color: #000000"> </span><span style="color: #795E26">main</span><span style="color: #000000"> () {</span>
<span style="color: #000000">  </span><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">apiconnector</span><span style="color: #000000"> = </span><span style="color: #795E26">require</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;@hexonet/ispapi-apiconnector&#039;</span><span style="color: #000000">)</span>
<span style="color: #000000">  </span><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">cl</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #267F99">apiconnector</span><span style="color: #000000">.</span><span style="color: #267F99">APIClient</span><span style="color: #000000">()</span>
<span style="color: #000000">  </span><span style="color: #008000">// Use OT&amp;E system, omitting this points by default to the LIVE system</span>
<span style="color: #000000">  </span><span style="color: #001080">cl</span><span style="color: #000000">.</span><span style="color: #795E26">useOTESystem</span><span style="color: #000000">()</span>
<span style="color: #000000">  </span><span style="color: #008000">// Set your user id, here: the OT&amp;E demo user</span>
<span style="color: #000000">    .</span><span style="color: #795E26">setCredentials</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;test.user&#039;</span><span style="color: #000000">, </span><span style="color: #A31515">&#039;test.passw0rd&#039;</span><span style="color: #000000">)</span>
<span style="color: #000000">  </span><span style="color: #008000">// Set Remote IP Address (in case of IP Filter setting)</span>
<span style="color: #000000">    .</span><span style="color: #795E26">setRemoteIPAddress</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;1.2.3.4:80&#039;</span><span style="color: #000000">)</span>
<span style="color: #000000">  </span><span style="color: #008000">// Set a subuser view</span>
<span style="color: #000000">  </span><span style="color: #008000">// .setUserView(&#039;hexotestman.com&#039;)</span>
<span style="color: #000000">  </span><span style="color: #008000">// Set a one time password (active 2FA)</span>
<span style="color: #000000">  </span><span style="color: #008000">// .setOTP(&#039;12345678&#039;)</span>

<span style="color: #000000">  </span><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">r</span><span style="color: #000000"> = </span><span style="color: #001080">cl</span><span style="color: #000000">.</span><span style="color: #795E26">request</span><span style="color: #000000">({</span>
<span style="color: #000000">    </span><span style="color: #001080">COMMAND:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;StatusUser&#039;</span>
<span style="color: #000000">  })</span>
<span style="color: #000000">  </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #001080">r</span><span style="color: #000000">.</span><span style="color: #795E26">getPlain</span><span style="color: #000000">())</span>
<span style="color: #000000">}</span>
<span style="color: #795E26">main</span><span style="color: #000000">()</span>
</code></pre>
				<a href="#promise-based" id="promise-based" style="color: inherit; text-decoration: none;">
					<h3>Promise based</h3>
				</a>
				<p>No need to play with async / await.</p>
				<pre><code class="language-js"><span style="color: #008000">/* eslint-disable @typescript-eslint/explicit-function-return-type */</span>
<span style="color: #008000">/* eslint-disable @typescript-eslint/no-var-requires */</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">apiconnector</span><span style="color: #000000"> = </span><span style="color: #795E26">require</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;@hexonet/ispapi-apiconnector&#039;</span><span style="color: #000000">)</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">cl</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #267F99">apiconnector</span><span style="color: #000000">.</span><span style="color: #267F99">APIClient</span><span style="color: #000000">()</span>
<span style="color: #008000">// Use OT&amp;E system, omitting this points by default to the LIVE system</span>
<span style="color: #001080">cl</span><span style="color: #000000">.</span><span style="color: #795E26">useOTESystem</span><span style="color: #000000">()</span>
<span style="color: #008000">// Set your user id, here: the OT&amp;E demo user</span>
<span style="color: #001080">cl</span><span style="color: #000000">.</span><span style="color: #795E26">setCredentials</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;test.user&#039;</span><span style="color: #000000">, </span><span style="color: #A31515">&#039;test.passw0rd&#039;</span><span style="color: #000000">)</span>
<span style="color: #008000">// Set Remote IP Address (in case of IP Filter setting)</span>
<span style="color: #001080">cl</span><span style="color: #000000">.</span><span style="color: #795E26">setRemoteIPAddress</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;1.2.3.4:80&#039;</span><span style="color: #000000">)</span>
<span style="color: #008000">// Set a subuser view</span>
<span style="color: #008000">// cl.setUserView(&#039;hexotestman.com&#039;);</span>
<span style="color: #008000">// Set a one time password (active 2FA)</span>
<span style="color: #008000">// cl.setOTP(&#039;12345678&#039;);</span>

<span style="color: #001080">cl</span><span style="color: #000000">.</span><span style="color: #795E26">request</span><span style="color: #000000">({</span>
<span style="color: #000000">  </span><span style="color: #001080">COMMAND:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;StatusUser&#039;</span>
<span style="color: #000000">}).</span><span style="color: #795E26">then</span><span style="color: #000000">((</span><span style="color: #001080">r</span><span style="color: #000000">) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> {</span>
<span style="color: #000000">  </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #001080">r</span><span style="color: #000000">.</span><span style="color: #795E26">getPlain</span><span style="color: #000000">())</span>
<span style="color: #000000">})</span>
</code></pre>
				<a href="#use-of-method-chaining" id="use-of-method-chaining" style="color: inherit; text-decoration: none;">
					<h3>Use of method chaining</h3>
				</a>
				<p>Shorten your code by using method chaining</p>
				<pre><code class="language-js"><span style="color: #008000">/* eslint-disable @typescript-eslint/explicit-function-return-type */</span>
<span style="color: #008000">/* eslint-disable @typescript-eslint/no-var-requires */</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">apiconnector</span><span style="color: #000000"> = </span><span style="color: #795E26">require</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;@hexonet/ispapi-apiconnector&#039;</span><span style="color: #000000">)</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">cl</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #267F99">apiconnector</span><span style="color: #000000">.</span><span style="color: #267F99">APIClient</span><span style="color: #000000">()</span>
<span style="color: #001080">cl</span><span style="color: #000000">.</span><span style="color: #795E26">useOTESystem</span><span style="color: #000000">()</span>
<span style="color: #000000">  .</span><span style="color: #795E26">setCredentials</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;test.user&#039;</span><span style="color: #000000">, </span><span style="color: #A31515">&#039;test.passw0rd&#039;</span><span style="color: #000000">)</span>
<span style="color: #000000">  .</span><span style="color: #795E26">setRemoteIPAddress</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;1.2.3.4:80&#039;</span><span style="color: #000000">)</span>
<span style="color: #008000">// .setUserView(&#039;hexotestman.com&#039;);</span>
<span style="color: #008000">// .setOTP(&#039;12345678&#039;);</span>

<span style="color: #001080">cl</span><span style="color: #000000">.</span><span style="color: #795E26">request</span><span style="color: #000000">({</span>
<span style="color: #000000">  </span><span style="color: #001080">COMMAND:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;StatusUser&#039;</span>
<span style="color: #000000">}).</span><span style="color: #795E26">then</span><span style="color: #000000">((</span><span style="color: #001080">r</span><span style="color: #000000">) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> {</span>
<span style="color: #000000">  </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #001080">r</span><span style="color: #000000">.</span><span style="color: #795E26">getPlain</span><span style="color: #000000">())</span>
<span style="color: #000000">})</span>
</code></pre>
				<a href="#use-of-nested-arrays-in-api-command-since-v560" id="use-of-nested-arrays-in-api-command-since-v560" style="color: inherit; text-decoration: none;">
					<h3>Use of nested arrays in API command (SINCE v5.6.0)</h3>
				</a>
				<p>Improve your code by using the below</p>
				<pre><code class="language-js"><span style="color: #008000">/* eslint-disable @typescript-eslint/explicit-function-return-type */</span>
<span style="color: #008000">/* eslint-disable @typescript-eslint/no-var-requires */</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">apiconnector</span><span style="color: #000000"> = </span><span style="color: #795E26">require</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;@hexonet/ispapi-apiconnector&#039;</span><span style="color: #000000">)</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">cl</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #267F99">apiconnector</span><span style="color: #000000">.</span><span style="color: #267F99">APIClient</span><span style="color: #000000">()</span>
<span style="color: #001080">cl</span><span style="color: #000000">.</span><span style="color: #795E26">useOTESystem</span><span style="color: #000000">()</span>
<span style="color: #000000">  .</span><span style="color: #795E26">setCredentials</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;test.user&#039;</span><span style="color: #000000">, </span><span style="color: #A31515">&#039;test.passw0rd&#039;</span><span style="color: #000000">)</span>
<span style="color: #000000">  .</span><span style="color: #795E26">setRemoteIPAddress</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;1.2.3.4:80&#039;</span><span style="color: #000000">)</span>
<span style="color: #008000">// .setUserView(&#039;hexotestman.com&#039;);</span>
<span style="color: #008000">// .setOTP(&#039;12345678&#039;);</span>

<span style="color: #001080">cl</span><span style="color: #000000">.</span><span style="color: #795E26">request</span><span style="color: #000000">({</span>
<span style="color: #000000">  </span><span style="color: #001080">COMMAND:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;QueryDomainOptions&#039;</span><span style="color: #000000">,</span>
<span style="color: #000000">  </span><span style="color: #001080">DOMAIN:</span><span style="color: #000000"> [</span><span style="color: #A31515">&#039;example1.com&#039;</span><span style="color: #000000">, </span><span style="color: #A31515">&#039;example2.com&#039;</span><span style="color: #000000">]</span>
<span style="color: #000000">}).</span><span style="color: #795E26">then</span><span style="color: #000000">((</span><span style="color: #001080">r</span><span style="color: #000000">) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> {</span>
<span style="color: #000000">  </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #001080">r</span><span style="color: #000000">.</span><span style="color: #795E26">getPlain</span><span style="color: #000000">())</span>
<span style="color: #000000">})</span>
</code></pre>
				<p>instead of</p>
				<pre><code class="language-js"><span style="color: #008000">/* eslint-disable @typescript-eslint/explicit-function-return-type */</span>
<span style="color: #008000">/* eslint-disable @typescript-eslint/no-var-requires */</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">apiconnector</span><span style="color: #000000"> = </span><span style="color: #795E26">require</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;@hexonet/ispapi-apiconnector&#039;</span><span style="color: #000000">)</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">cl</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #267F99">apiconnector</span><span style="color: #000000">.</span><span style="color: #267F99">APIClient</span><span style="color: #000000">()</span>
<span style="color: #001080">cl</span><span style="color: #000000">.</span><span style="color: #795E26">useOTESystem</span><span style="color: #000000">()</span>
<span style="color: #000000">  .</span><span style="color: #795E26">setCredentials</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;test.user&#039;</span><span style="color: #000000">, </span><span style="color: #A31515">&#039;test.passw0rd&#039;</span><span style="color: #000000">)</span>
<span style="color: #000000">  .</span><span style="color: #795E26">setRemoteIPAddress</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;1.2.3.4:80&#039;</span><span style="color: #000000">)</span>
<span style="color: #008000">// .setUserView(&#039;hexotestman.com&#039;);</span>
<span style="color: #008000">// .setOTP(&#039;12345678&#039;);</span>

<span style="color: #001080">cl</span><span style="color: #000000">.</span><span style="color: #795E26">request</span><span style="color: #000000">({</span>
<span style="color: #000000">  </span><span style="color: #001080">COMMAND:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;QueryDomainOptions&#039;</span><span style="color: #000000">,</span>
<span style="color: #000000">  </span><span style="color: #001080">DOMAIN0:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;example1.com&#039;</span><span style="color: #000000">,</span>
<span style="color: #000000">  </span><span style="color: #001080">DOMAIN1:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;example2.com&#039;</span>
<span style="color: #000000">}).</span><span style="color: #795E26">then</span><span style="color: #000000">((</span><span style="color: #001080">r</span><span style="color: #000000">) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> {</span>
<span style="color: #000000">  </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #001080">r</span><span style="color: #000000">.</span><span style="color: #795E26">getPlain</span><span style="color: #000000">())</span>
<span style="color: #000000">})</span>
</code></pre>
				<p>The SDK itself will flatten the nested array correctly into expected plain text format before sending it to our API.</p>
				<a href="#contributing" id="contributing" style="color: inherit; text-decoration: none;">
					<h2>Contributing</h2>
				</a>
				<p>Please read <a href="https://github.com/hexonet/node-sdk/wiki/Development-Guide">our development guide</a> for details on our code of conduct, and the process for submitting pull requests to us.</p>
				<a href="#authors" id="authors" style="color: inherit; text-decoration: none;">
					<h2>Authors</h2>
				</a>
				<ul>
					<li><strong>Kai Schwarz</strong> - <em>lead development</em> - <a href="https://github.com/papakai">PapaKai</a></li>
				</ul>
				<p>See also the list of <a href="https://github.com/hexonet/node-sdk/graphs/contributors">contributors</a> who participated in this project.</p>
				<a href="#license" id="license" style="color: inherit; text-decoration: none;">
					<h2>License</h2>
				</a>
				<p>MIT</p>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class=" ">
						<a href="modules.html">Modules</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/apiclient.html">apiclient</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/column.html">column</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/customlogger.html">customlogger</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/index.html">index</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/logger.html">logger</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/record.html">record</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/response.html">response</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/responseparser.html">responseparser</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/responsetemplate.html">responsetemplate</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/responsetemplatemanager.html">responsetemplatemanager</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/socketconfig.html">socketconfig</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li>
				<li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
</body>
</html>